# 이 문서는 작성중입니다

## 테스트 관련

### Q. 테스트가 무엇인가?

A. 임의의 시나리오를 가정하여 테스트 코드를 작성하고 그 테스트 코드의 최종 결과가 원하는 결과가 매칭되는지를 확인하는 과정을 말한다.

### Q. 테스트 주도 개발(TDD) 이란 무엇인가?

함수별로 테스트를 수행하여 오직 함수의 정상적인 작동이 보장되는 상황에서만 해당 함수를 프로덕션 코드에 적용하는 코딩 프랙티스를 의미한다
이런 TDD는 에러를 발생하지 않는 코드만을 실제 프로덕션에 투입하여 얘기치 않은 작동을 뿌리부터 제거한다는 의의가 있다
하지만 모든 함수를 TDD기반으로 작성하는 것은 번거롭다는 단점이 있다. 덧붙여서 TDD는 유지보수 도중 함수를 수정했을 때 문제를 야기한다. 함수 시그니쳐를 변경하는 리팩토링을 수행할 때 마다 테스트를 다시 작성해야 하는 번거로움이 있다

### 어떤식으로 테스트를 구현하는가?
대부분의 테스트 라이브러리는 테스트 함수를 호출하는 형태로 테스트를 수행한다. 아래와 같은 식이다

```javascript
const 덧셈함수 = (a,b) => a + b

test("테스트의 이름", function 테스트함수(){

    const 덧셈결과 = 덧셈함수 (1,1)
    expect(덧셈결과).toBe(2)
})
```
위의 코드는 `덧셈함수`의 간단한 테스트 코드이다. 덧셈함수는 `테스트함수`내부에서 호출되어 그 리턴값이 예상한 리턴값인지 체크하는 `expect`함수를 호출함으로서 마무리된다. 만일 예상한 값과 실제 값이 같다면 콘솔창에 그린 라이트가 표시되면서 테스트는 통과된다. 만일 예상한 값과 실제 값이 다르다면 콘솔창에 레드 라이트가 표시되면서 테스트의 실패를 알려준다.

### Q. 리액트에서도 TDD가 가능한가?

A. 결론부터 말하면 리액트에서도 TDD가 어느 정도는 가능하다. 하지만 리액트는 웹 프론트환경에서 작동하는 프로그램이다.\
\
웹 프론트엔드는 다른 환경에 비하면 테스트 코드의 구현 난이도가 높고 가능한 테스트 커버리지도 상대적으로 제한적이다.\
\
jest로 대표되는 테스트 코드 작성은 정해진 입력에 대하여 정해진 출력을 테스트하는 순수 함수적인 전략을 취하지만 웹 프론트엔드 환경은 순수함수적인 작동을 방해하는 부수효과가 많다. 유저입력과 서버와의 통신은 대표적인 부수 효과에 속한다\
\
만일 웹브라우저의 구동환경 및 유저 입력이라는 부수효과까지 고려하여 테스트하고 싶다면 헤드리스 브라우저 기반의 테스트 코드를 작성해야 한다. 하지만 헤드리스 기반의 테스트 코드 작성은 생각보다 쉽지 않다\
\
누군가는 이런 웹 프론트엔드 환경을 가리켜 `개발자가 상상할 수 있는 가장 터프한 프로그램 구동환경`이라는 말까지 했다.\
\
한편 리액트의 TDD에는 제스트, 모카, 엔자임 등이 사용된다. 퍼핏티어는 이들과 결합하여 사용할 수 있다\

### Q. 퍼핏티어 기반의 TDD는 어떻게 수행되는가 ?

실제 웹브라우저를 구동하여 타겟 페이지로 이동 후 유저의 입력을 모방하는 방식으로 테스트가 수행된다. 즉 퍼핏티어는 가장 실제적인 상황을 시뮬레이션 하여 테스트를 수행한다\
\
UI에서 특정한 원소를 선택하여 마우스를 클릭한거나 키보드를 입력하는 액션을 수행하고 일정 시간이 지난 후 UI가 원하는 방식으로 변화되었는지를 탐지하는 방식으로 테스트가 수행된다

## 테스트 관련

### Q. 퍼핏티어에서 주로 사용하는 기능이 있는가

slowMo 옵션은 특정 동작을 수행할 때 지정한 시간만큼 지연시킨다\
또한 원하는 윈도우 크기를 지정하여 테스트할 수 있는데 이는 반응형 페이지를 테스트할 때 효과적이다

### Q. 행위 기반 개발 (Behaviour-Driven Development,BDD)이란 무엇인가?

BDD는 TDD에 기반을 두고 있다. 하지만 BDD는 함수 단위로 테스트가 진행되지 않는다

### Q. cucumber.js란 무엇인가?

cucumber.js는 BDD를 수행하는 라이브러리다

### Q. react testing library가 무엇인가? 

A. Facebook에서는 React Testing Library 사용을 권장합니다. 이 라이브러리는 사용자가 컴포넌트를 사용하는 것처럼 테스트를 작성할 수 있도록 설계되었습니다.
React v16 이하에서는 Enzyme을 통해 React 컴포넌트의 출력을 쉽게 검증하고 조작하고 탐색할 수 있습니다.

상세는 아래를 참조하시오
https://testing-library.com/docs/react-testing-library/intro/

#### Q. 리액트 16이하에서 엔자임을 썻다는 말은 16버전에서는 엔자임을 사용하지 않는다는 뜻인가? 그러면 엔자임이 진화해서 리액트 테스팅 라이브러리가 된 것인가? 

A. 리액트 16에서 엔자임을 쓸 수는 있다. 다만 리액트 테스팅 라이브러리가 더 좋으니까 상대적으로 사장된것 뿐이다
대부분의 사용 사례에서 나는 react-testing-library를 선호합니다. 주로 EXPORTED API가 컴포넌트의 내부 API를 사용하는 것을 허용하지 않아 더 나은 테스트를 작성해야 하기 때문입니다. 
its exported APIs do not allow you to use a component’s internal API
또한 ZERO CONFIGURATION

반면에 Enzyme을 사용하면 "수명 주기 메서드" 또는 "상태를 포함할 수 있는 구성 요소의 내부 API"를 사용할 수 있습니다.

나는 많은 프로젝트에서 Enzyme과 react-testing-libraries를 모두 사용했습니다. 그러나 나는 react-testing-library가 일을 더 쉽게 만든다는 것을 종종 발견했습니다.

출처 https://blog.logrocket.com/comparing-react-testing-libraries/

#### Q. 유닛 테스트와 컴포넌트 테스트는 다른 개념인가 ?

A. 다른거 같다. 유닛 테스트는 함수를 테스트하는 개념이고 컴포넌트 테스트는 리액트의 컴포넌트가 제대로 작동하는지를 테스트하는 개념이다

#### Q. https://testing-library.com/ 가 뭐 하는 페이지인가?

A. testing-library를 소객하는 페이지이다. 우수 테스트 관행을 장려하는 단순하고 완전한 테스트 유틸리티이다. npm에서 @testing-library라는 이름으로 올라와 있다

#### Q. 만일 컴포넌트 테스트를 할 때 다른 컴포넌트의 엘리먼트를 ref로 접근하면 에러가 발생하지 않는가. 이런 상황은 어떻게 처리하나?

A. 그런게 문제이기 때문에 react-testing library를 쓴다고 한다

#### Q. react testing library와 puppeteer 중에서 뭐가 더 좋은가?
A. 일단 퍼핏티어는 테스팅 프레임워크가 아니다. 실제 브라우저에서 실행하는 테스트를 종단 간 테스트라고 한다

상세는 아래를 참조하시오
https://blog.logrocket.com/comparing-react-testing-libraries/

#### Q. React Testing Library를 배워보고 싶은데 무엇을 참조하면 좋은가?

A.https://www.youtube.com/watch?v=JKOwJUM4_RM

#### Q. ReactTestUtils와 리액트 테스팅 라이브러리는 다른 개념인가?

A.  ReactTestUtils는 리액트 테스팅 라이브러리와 다른 개념이다. ReactTestUtils은

`import ReactTestUtils from 'react-dom/test-utils';`

과 같은 방식으로 불러온다. 

#### Q. react-test-renderer가 무엇인가? 

A. 리액트 테스트 렌더러는 리액트 컴포넌트를 js 객체로 렌더링할때 쓴다\
ReactDOM에 의해 렌더링된 플랫폼 뷰 계층의 스냅샷을 쉽게 찍을 수 있도록 도와준다 (이게 무슨말인가?)\
상세는 https://ko.reactjs.org/docs/test-renderer.html 를 참조하시오

#### Q. 퍼핏티어로 자동화를 할 수 있다는데 자동화가 무슨 말인가?

A. 자동화 된 테스트를 줄여서 그냥 자동화라고 하는것같다\
퍼핏티어처럼 웹브라우저로 테스트하는 방식을 엔드 투 엔드 테스팅이라고 한다

#### Q. 사이프레스(Cypress)가 뭔가?

A. js용 엔드 투 엔드 테스팅 툴이다\
퍼핏티어하고 비슷한 개념이다

#### Q. 사이프레스와 퍼핏티어는 뭐가 다른가?

A. 차이가 별로 없다. 퍼핏티어 보다는 사이프레스를 많이 쓰는것 같다\
사이프레스가 더 안정적이라는 의견이 지배적이다\
퍼핏티어는 때때로 클릭이 발생하지 않고 테스트 시간이 초과된다\

# 이 문서는 작성중입니다
